---
title: "Services Platform API"
description: "Complete API reference for Roomi Services Platform including Events, Complaints, Payments, Facilities, and Routines"
---

## Overview

The Roomi Services Platform API provides comprehensive community and facility management services. This API handles events, complaints, payments, facility bookings, routines, and email services for complete smart home community management.

## Base URL

```
https://services-{env}-ae.roomi-services.com
```

## Authentication

All API endpoints require AWS Signature Version 4 (SigV4) authentication with the following headers:

```http
Authorization: AWS4-HMAC-SHA256 Credential=YOUR_ACCESS_KEY/20240115/me-central-1/execute-api/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=YOUR_SIGNATURE
X-Amz-Content-Sha256: SHA256_HASH_OF_REQUEST_BODY
X-Amz-Date: 20240115T120000Z
x-unit-id: unit-12345
x-user-id: user-67890
```

## API Endpoints

### Health Check

<Endpoint method="GET" path="/api/health" />

Check if the services platform server is running and healthy.

### Events

<Endpoint method="GET" path="/api/events/location/{locationId}" />

Get all events for a specific location.

<Endpoint method="GET" path="/api/events/all" />

Get all events in the system.

### Complaints

<Endpoint method="POST" path="/api/complaints/lookups" />

Get complaint types, categories, and subcategories.

<Endpoint method="POST" path="/api/complaints/create" />

Create a new complaint ticket.

<Endpoint method="GET" path="/api/complaints/list" />

List all complaints for a specific unit.

<Endpoint method="GET" path="/api/complaints/case/{caseNumber}" />

Get complaint by case number.

<Endpoint method="POST" path="/api/complaints/update/{caseNumber}" />

Update an existing complaint.

### Payments

<Endpoint method="GET" path="/api/payments/services" />

Get all available payment services.

<Endpoint method="POST" path="/api/payments/cards" />

Add a new payment card.

<Endpoint method="GET" path="/api/payments/cards" />

Get all payment cards for the user.

<Endpoint method="DELETE" path="/api/payments/cards/{cardId}" />

Delete a payment card.

<Endpoint method="PATCH" path="/api/payments/cards/{cardId}/default" />

Set a payment card as default.

<Endpoint method="POST" path="/api/payments/bills" />

Add a new bill.

<Endpoint method="GET" path="/api/payments/bills" />

Get all bills for the user.

<Endpoint method="GET" path="/api/payments/bills/{billId}" />

Get bill by ID.

<Endpoint method="GET" path="/api/payments/bills/{billId}/status" />

Get bill payment status.

<Endpoint method="POST" path="/api/payments/bills/{billId}/checkout" />

Process payment for a bill.

<Endpoint method="GET" path="/api/payments/accounts" />

Get all payment accounts.

<Endpoint method="POST" path="/api/payments/accounts" />

Add a new payment account.

<Endpoint method="DELETE" path="/api/payments/accounts/{accountId}" />

Delete a payment account.

### Facilities

<Endpoint method="GET" path="/api/facilities/" />

Get all available facilities with details and slots.

<Endpoint method="GET" path="/api/facilities/{facilityId}" />

Get facility by ID.

<Endpoint method="POST" path="/api/facilities/book" />

Book a facility slot.

<Endpoint method="POST" path="/api/facilities/cancel" />

Cancel a facility booking.

<Endpoint method="GET" path="/api/facilities/bookings/{slotId}" />

Get booking details by slot ID.

<Endpoint method="GET" path="/api/facilities/bookingItem/{slotId}" />

Get booking item by slot ID.

<Endpoint method="GET" path="/api/facilities/booked/unit" />

Get bookings by unit.

### Routines

<Endpoint method="GET" path="/api/routines/" />

Get all routines for the user.

<Endpoint method="POST" path="/api/routines/" />

Create a new routine.

<Endpoint method="GET" path="/api/routines/suggested-routines" />

Get all suggested routines.

<Endpoint method="GET" path="/api/routines/{routineId}" />

Get routine by ID.

<Endpoint method="PUT" path="/api/routines/{routineId}" />

Update an existing routine.

<Endpoint method="DELETE" path="/api/routines/{routineId}" />

Delete an existing routine.

<Endpoint method="GET" path="/api/routines/{routineId}/suggested-routines" />

Get suggested routine by ID.

### Email Services

<Endpoint method="POST" path="/api/send-email/" />

Send an email to specified recipients.

## Service Categories

### Events Management

Community events and activities management:

- **Event Listing**: Browse and search community events
- **Location-based Events**: Filter events by location
- **Event Details**: Get comprehensive event information

### Complaint System

Maintenance and service request management:

- **Complaint Categories**: Organized complaint types and subcategories
- **Ticket Creation**: Submit maintenance requests
- **Status Tracking**: Monitor complaint resolution progress
- **Updates**: Add comments and attachments to existing tickets

### Payment Processing

Comprehensive payment and billing management:

- **Payment Cards**: Manage multiple payment methods
- **Bill Management**: View and pay service bills
- **Account Management**: Handle payment accounts
- **Transaction History**: Track payment activities

### Facility Booking

Community facility reservation system:

- **Facility Discovery**: Browse available community facilities
- **Slot Booking**: Reserve time slots for facilities
- **Booking Management**: View and cancel reservations
- **Availability Checking**: Real-time slot availability

### Routine Management

Personal and suggested routine management:

- **Custom Routines**: Create personalized daily routines
- **Suggested Routines**: Access pre-built routine templates
- **Routine Scheduling**: Set up automated routine execution
- **Activity Tracking**: Monitor routine completion

### Email Services

Communication and notification system:

- **Email Sending**: Send notifications and communications
- **Template Support**: Use HTML email templates
- **Attachment Support**: Include files and documents
- **Multiple Recipients**: Send to multiple addresses

## SDK Integration

### JavaScript/TypeScript

```javascript
import { RoomiSDK } from '@roomi/sdk';

const roomi = new RoomiSDK({
  region: 'me-central-1',
  accessKeyId: process.env.AWS_ACCESS_KEY_ID,
  secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,
  unitId: 'unit-12345',
  userId: 'user-67890'
});

// Get events
const events = await roomi.services.events.getEventsByLocation('location-456');

// Create complaint
const complaint = await roomi.services.complaints.create({
  typeId: 'type-1',
  comments: 'Water leak in bathroom'
});

// Get facilities
const facilities = await roomi.services.facilities.getAllFacilities();

// Book facility
const booking = await roomi.services.facilities.book({
  facilityId: 'facility-123',
  slotId: 'slot-456',
  unitId: 'unit-789'
});
```

### Python

```python
from roomi_sdk import RoomiSDK

roomi = RoomiSDK(
    region='me-central-1',
    access_key_id=os.getenv('AWS_ACCESS_KEY_ID'),
    secret_access_key=os.getenv('AWS_SECRET_ACCESS_KEY'),
    unit_id='unit-12345',
    user_id='user-67890'
)

# Get events
events = await roomi.services.events.get_events_by_location('location-456')

# Create complaint
complaint = await roomi.services.complaints.create(
    type_id='type-1',
    comments='Water leak in bathroom'
)

# Get facilities
facilities = await roomi.services.facilities.get_all_facilities()

# Book facility
booking = await roomi.services.facilities.book(
    facility_id='facility-123',
    slot_id='slot-456',
    unit_id='unit-789'
)
```

## Data Models

### Event Model

```json
{
  "eventId": "event-123",
  "locationId": "location-456",
  "eventName": "Community Meeting",
  "eventDate": "2024-01-15T10:00:00Z",
  "description": "Monthly community gathering"
}
```

### Complaint Model

```json
{
  "id": "ticket-123",
  "status": "pending",
  "CommunityId": "community-456",
  "UnitId": "unit-789",
  "TypeId": 1,
  "CategoryId": 2,
  "SubcategoryId": 3,
  "Comments": "Water leak in bathroom",
  "Email": "user@example.com",
  "CreatedDate": "2024-01-15T10:00:00Z"
}
```

### Facility Model

```json
{
  "facilityId": "facility-123",
  "facilityName": "Swimming Pool",
  "rating": 4.5,
  "numOfReviews": 25,
  "description": "Olympic-sized swimming pool with heating",
  "availableSlots": [
    {
      "slotId": "slot-456",
      "date": "Tuesday, 24 November 2024",
      "time": "9:00 AM - 10:00 AM",
      "isBooked": false
    }
  ]
}
```

## Error Handling

### Common Error Responses

| Error Code | Description | Solution |
|------------|-------------|----------|
| `400` | Bad Request | Check request format and required fields |
| `401` | Unauthorized | Verify AWS credentials and signature |
| `402` | Payment Required | Check payment method and billing status |
| `403` | Forbidden | Verify permissions for the operation |
| `404` | Not Found | Verify resource identifiers |
| `500` | Internal Server Error | Contact support if persistent |

### Error Response Format

```json
{
  "error": "Error message describing what went wrong"
}
```

## Rate Limiting

The services platform API implements rate limiting:

- **General Operations**: 1000 requests per minute per unit
- **Payment Operations**: 100 requests per minute per user
- **Facility Bookings**: 50 requests per minute per unit
- **Email Sending**: 100 emails per minute per unit

## Best Practices

1. **Error Handling**: Implement comprehensive error handling for all operations
2. **Payment Security**: Use secure payment methods and validate transactions
3. **Booking Management**: Implement booking confirmation and cancellation flows
4. **Complaint Tracking**: Monitor complaint status and provide updates
5. **Email Templates**: Use consistent email templates for communications

## Next Steps

- [Events Management](/api-reference/services/events) - Event listing and management
- [Complaints System](/api-reference/services/complaints) - Complaint and ticket management
- [Payment Processing](/api-reference/services/payments) - Payment and billing management
- [Facility Booking](/api-reference/services/facilities) - Facility reservation system
- [Routine Management](/api-reference/services/routines) - Personal and suggested routines
- [Email Services](/api-reference/services/email) - Communication and notifications 