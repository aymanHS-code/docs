{"openapi":"3.1.0","info":{"title":"Roomi Logger","version":"0.1.0","x-aws-sigv4-info":"AWS SigV4 Authentication: Requests must include Authorization header with AWS4-HMAC-SHA256 signature, X-Amz-Content-Sha256 header with request body hash, and X-Amz-Date header with ISO8601 timestamp. Region: me-central-1, Service: execute-api"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health","description":"Health check endpoint","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}},"x-mint":{"metadata":{"title":"Health","description":"Health check endpoint"}},"parameters":[{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}]}},"/logs/sync":{"post":{"tags":["Logs"],"summary":"Get Weave Calls","description":"Fetch Weave calls with optional filtering","operationId":"get_weave_calls_logs_sync_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FetchCallsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/WeaveCall"},"type":"array","title":"Response Get Weave Calls Logs Sync Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Get Weave Calls","description":"Fetch Weave calls with optional filtering"}},"parameters":[{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}]}},"/groups":{"post":{"tags":["Log Groups"],"summary":"Create Group","description":"Create a new log group","operationId":"create_group_groups_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogGroup"},"example":{"name":"name","tags":{}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Create Group","description":"Create a new log group"}},"parameters":[{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}]},"get":{"tags":["Log Groups"],"summary":"List Groups","description":"List all log groups, optionally filtered by prefix","operationId":"list_groups_groups_get","parameters":[{"name":"prefix","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prefix"}},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LogGroupInfo"},"title":"Response List Groups Groups Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"List Groups","description":"List all log groups, optionally filtered by prefix"}}}},"/groups/{group_name}":{"delete":{"tags":["Log Groups"],"summary":"Delete Group","description":"Delete a log group","operationId":"delete_group_groups__group_name__delete","parameters":[{"name":"group_name","in":"path","required":true,"schema":{"type":"string","title":"Group Name"}},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Delete Group","description":"Delete a log group"}}}},"/groups/{group_name}/streams":{"post":{"tags":["Log Streams"],"summary":"Create Stream","description":"Create a new log stream in the specified log group","operationId":"create_stream_groups__group_name__streams_post","parameters":[{"name":"group_name","in":"path","required":true,"schema":{"type":"string","title":"Group Name"}},{"name":"stream_name","in":"query","required":true,"schema":{"type":"string","title":"Stream Name"}},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Create Stream","description":"Create a new log stream in the specified log group"}}},"get":{"tags":["Log Streams"],"summary":"List Streams","description":"List all log streams in the specified group, optionally filtered by prefix","operationId":"list_streams_groups__group_name__streams_get","parameters":[{"name":"group_name","in":"path","required":true,"schema":{"type":"string","title":"Group Name"}},{"name":"prefix","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prefix"}},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LogStreamInfo"},"title":"Response List Streams Groups  Group Name  Streams Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"List Streams","description":"List all log streams in the specified group, optionally filtered by prefix"}}}},"/logs":{"post":{"tags":["Logs"],"summary":"Create Log","description":"Create a new log entry in CloudWatch","operationId":"create_log_logs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogMessage"},"example":{"message":"message","group":"group","stream":"stream","metadata":{}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Create Log","description":"Create a new log entry in CloudWatch"}},"parameters":[{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}]}},"/groups/{group_name}/streams/{stream_name}/live":{"get":{"tags":["Logs"],"summary":"Stream Logs","description":"Stream live logs from a specific log stream using Server-Sent Events","operationId":"stream_logs_groups__group_name__streams__stream_name__live_get","parameters":[{"name":"group_name","in":"path","required":true,"schema":{"type":"string","title":"Group Name"}},{"name":"stream_name","in":"path","required":true,"schema":{"type":"string","title":"Stream Name"}},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"},{"$ref":"#/components/parameters/AWSSignatureV4HeaderParam"},{"$ref":"#/components/parameters/AWSContentSha256HeaderParam"},{"$ref":"#/components/parameters/AWSDateHeaderParam"},{"$ref":"#/components/parameters/AuthorizationHeader"},{"$ref":"#/components/parameters/AWSContentSha256Header"},{"$ref":"#/components/parameters/AWSDateHeader"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-mint":{"metadata":{"title":"Stream Logs","description":"Stream live logs from a specific log stream using Server-Sent Events"}}}}},"components":{"schemas":{"FetchCallsRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Filter calls by user_id in inputs"},"unit_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit Id","description":"Filter calls by unit_id in inputs"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","description":"Maximum number of calls to return","default":100},"start_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time","description":"The start of the time range to fetch calls from. ISO 8601 format."},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time","description":"The end of the time range to fetch calls from. ISO 8601 format."}},"type":"object","title":"FetchCallsRequest","description":"Request model for fetching weave calls"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Status of the health check"},"message":{"type":"string","title":"Message","description":"Message from the health check"}},"type":"object","required":["status","message"],"title":"HealthResponse"},"LogCreateResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Operation status"},"response":{"additionalProperties":true,"type":"object","title":"Response","description":"AWS CloudWatch response details"}},"type":"object","required":["status","response"],"title":"LogCreateResponse","description":"Response for creating log entries"},"LogGroup":{"properties":{"name":{"type":"string","title":"Name"},"retention_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retention Days","description":"Retention period in days. Set to 0 for never expire, or null to use AWS default","default":30},"tags":{"additionalProperties":{"type":"string"},"type":"object","title":"Tags","default":{}}},"type":"object","required":["name"],"title":"LogGroup"},"LogGroupInfo":{"properties":{"logGroupName":{"type":"string","title":"Loggroupname","description":"Name of the log group"},"creationTime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Creationtime","description":"Creation timestamp in milliseconds"},"retentionInDays":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retentionindays","description":"Retention period in days"},"metricFilterCount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Metricfiltercount","description":"Number of metric filters"},"arn":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arn","description":"Amazon Resource Name of the log group"},"storedBytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Storedbytes","description":"Number of bytes stored"},"kmsKeyId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kmskeyid","description":"KMS key ID for encryption"},"tags":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Tags","description":"Tags associated with the log group"}},"type":"object","required":["logGroupName"],"title":"LogGroupInfo","description":"CloudWatch Log Group information"},"LogMessage":{"properties":{"message":{"type":"string","title":"Message"},"group":{"type":"string","title":"Group"},"stream":{"type":"string","title":"Stream"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","default":{}}},"additionalProperties":true,"type":"object","required":["message","group","stream"],"title":"LogMessage"},"LogStreamInfo":{"properties":{"logStreamName":{"type":"string","title":"Logstreamname","description":"Name of the log stream"},"creationTime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Creationtime","description":"Creation timestamp in milliseconds"},"firstEventTime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Firsteventtime","description":"First event timestamp in milliseconds"},"lastEventTime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lasteventtime","description":"Last event timestamp in milliseconds"},"lastIngestionTime":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lastingestiontime","description":"Last ingestion timestamp in milliseconds"},"uploadSequenceToken":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploadsequencetoken","description":"Upload sequence token"},"arn":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arn","description":"Amazon Resource Name of the log stream"},"storedBytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Storedbytes","description":"Number of bytes stored"}},"type":"object","required":["logStreamName"],"title":"LogStreamInfo","description":"CloudWatch Log Stream information"},"StatusEnum":{"type":"string","enum":["success","exists","not_found","error"],"title":"StatusEnum"},"StatusResponse":{"properties":{"status":{"$ref":"#/components/schemas/StatusEnum","description":"Operation status: success, exists, not_found, or error"},"message":{"type":"string","title":"Message","description":"Human readable message describing the result"}},"type":"object","required":["status","message"],"title":"StatusResponse","description":"Generic status response for create/delete operations"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeaveCall":{"properties":{"trace_id":{"type":"string","title":"Trace Id","description":"Unique trace identifier"},"parent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Id","description":"Parent trace identifier"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User identifier from inputs"},"unit_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit Id","description":"Unit identifier from inputs"},"unit_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit Name","description":"Unit name from inputs"},"user_request":{"items":{"type":"string"},"type":"array","title":"User Request","description":"List of user request transcripts"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Call start timestamp"},"ended_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ended At","description":"Call end timestamp"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At","description":"Call deletion timestamp"},"output":{"items":{},"type":"array","title":"Output","description":"Call output data"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model used for the call"},"total_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tokens","description":"Total tokens used"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Call status"},"time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Time","description":"Call duration in seconds"}},"type":"object","required":["trace_id","user_request","output"],"title":"WeaveCall","description":"Individual Weave call information"}},"securitySchemes":{"AWSSignatureV4":{"type":"apiKey","in":"header","name":"Authorization","description":"AWS Signature Version 4 authorization header (e.g., AWS4-HMAC-SHA256 Credential=...)"},"AWSContentSha256":{"type":"apiKey","in":"header","name":"X-Amz-Content-Sha256","description":"SHA256 hash of the request body"},"AWSDate":{"type":"apiKey","in":"header","name":"X-Amz-Date","description":"ISO8601 timestamp for the request (e.g., 20230101T120000Z)"}},"parameters":{"XUnitIdHeader":{"name":"x-unit-id","in":"header","description":"Unit identifier","required":true,"schema":{"type":"string"}},"XUserIdHeader":{"name":"x-user-id","in":"header","description":"User identifier","required":true,"schema":{"type":"string"}},"AuthorizationHeader":{"name":"Authorization","in":"header","description":"AWS Signature Version 4 authorization header","required":true,"schema":{"type":"string"},"example":"AWS4-HMAC-SHA256 Credential=..."},"AWSContentSha256Header":{"name":"X-Amz-Content-Sha256","in":"header","description":"SHA256 hash of the request body","required":true,"schema":{"type":"string"},"example":"e3b0c44298fc1c149afbf4c8996fb924..."},"AWSDateHeader":{"name":"X-Amz-Date","in":"header","description":"ISO8601 timestamp for the request","required":true,"schema":{"type":"string"},"example":"20240101T120000Z"},"AWSSignatureV4HeaderParam":{"name":"Authorization","in":"header","description":"AWS Signature Version 4 authorization header (e.g., AWS4-HMAC-SHA256 Credential=...)","required":true,"schema":{"type":"string"},"example":"token"},"AWSContentSha256HeaderParam":{"name":"X-Amz-Content-Sha256","in":"header","description":"SHA256 hash of the request body","required":true,"schema":{"type":"string"},"example":"token"},"AWSDateHeaderParam":{"name":"X-Amz-Date","in":"header","description":"ISO8601 timestamp for the request (e.g., 20230101T120000Z)","required":true,"schema":{"type":"string"},"example":"token"}}},"security":[{"AWSSignatureV4":[],"AWSContentSha256":[],"AWSDate":[]}],"servers":[{"url":"https://logger-{env}-ae.roomi-services.com"}]}