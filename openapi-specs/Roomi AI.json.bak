{"openapi":"3.1.0","info":{"title":"Roomi AI","description":"Roomi AI Assistant API","version":"1.0.0","x-aws-sigv4-info":"AWS SigV4 Authentication: Requests must include Authorization header with AWS4-HMAC-SHA256 signature, X-Amz-Content-Sha256 header with request body hash, and X-Amz-Date header with ISO8601 timestamp. Region: me-central-1, Service: execute-api"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health","description":"Check the health of the Roomi API","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/task/{task_id}/status":{"get":{"tags":["Task Status"],"summary":"Get Task Status","description":"Check the status of a background task","operationId":"get_task_status_task__task_id__status_get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/roomi":{"post":{"tags":["Roomi Assistant"],"summary":"Process Message","description":"Process a message using the Roomi assistant","operationId":"process_message_roomi_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomiRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomiResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/elevenlabs/webhook":{"post":{"tags":["ElevenLabs Webhook"],"summary":"Elevenlabs Webhook","description":"Handle ElevenLabs webhook","operationId":"elevenlabs_webhook_elevenlabs_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ElevenLabsWebhookResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/platform":{"get":{"tags":["Platform"],"summary":"Get Platform Info","operationId":"get_platform_info_platform_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlatformResponse"}}}}}}}},"components":{"schemas":{"ElevenLabsWebhookResponse":{"properties":{"response":{"type":"string","title":"Response"},"background_tasks":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Background Tasks","default":[]}},"type":"object","required":["response"],"title":"ElevenLabsWebhookResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Status of the health check"},"message":{"type":"string","title":"Message","description":"Message from the health check"}},"type":"object","required":["status","message"],"title":"HealthResponse"},"PlatformResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Status of the platform"},"platform":{"type":"string","title":"Platform","description":"Platform information"},"architecture":{"type":"string","title":"Architecture","description":"Architecture of the platform"},"amd64_optimized":{"type":"boolean","title":"Amd64 Optimized","description":"Whether the platform is AMD64 optimized"},"workers":{"type":"integer","title":"Workers","description":"Number of workers"}},"type":"object","required":["status","platform","architecture","amd64_optimized","workers"],"title":"PlatformResponse"},"RoomiRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"unit_id":{"type":"string","title":"Unit Id"},"unit_name":{"type":"string","title":"Unit Name"},"transcript":{"type":"string","title":"Transcript"},"thread_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thread Id","default":"e0f5308e-0bd9-4dc9-b55d-5c74798283bf"}},"type":"object","required":["user_id","unit_id","unit_name","transcript"],"title":"RoomiRequest"},"RoomiResponse":{"properties":{"response":{"type":"string","title":"Response"},"background_tasks":{"items":{},"type":"array","title":"Background Tasks","default":[]},"query_type":{"type":"string","title":"Query Type","default":"GENERAL"},"query_types":{"items":{"type":"string"},"type":"array","title":"Query Types","description":"List of all query types that were handled"},"transcript_parts":{"items":{"type":"string"},"type":"array","uniqueItems":true,"title":"Transcript Parts","description":"Set of unique parts of the transcript for each query type"}},"type":"object","required":["response"],"title":"RoomiResponse"},"TaskStatusResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Status of the task (not_found_or_completed, running, cancelled, failed, completed, pending)"},"message":{"type":"string","title":"Message","description":"Descriptive message about the task status"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error message if task failed"}},"type":"object","required":["status","message"],"title":"TaskStatusResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","description":"Private Roomi authentication token","in":"header","name":"x-roomi-token"},"AWSSignatureV4":{"type":"apiKey","in":"header","name":"Authorization","description":"AWS Signature Version 4 authorization header (e.g., AWS4-HMAC-SHA256 Credential=...)"},"AWSContentSha256":{"type":"apiKey","in":"header","name":"X-Amz-Content-Sha256","description":"SHA256 hash of the request body"},"AWSDate":{"type":"apiKey","in":"header","name":"X-Amz-Date","description":"ISO8601 timestamp for the request (e.g., 20230101T120000Z)"}}},"security":[{"AWSSignatureV4":[],"AWSContentSha256":[],"AWSDate":[]}],"servers":[{"url":"https://ai-{env}-ae.roomi-services.com"}]}